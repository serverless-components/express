name: express
version: 1.7.5
author: eahefnawy
org: serverlessinc
description: Deploys a serverless Express.js application onto AWS Lambda and AWS HTTP API.
keywords: aws, serverless, express
repo: https://github.com/serverless-components/express
license: MIT
main: ./src

actions:
  # deploy
  deploy:
    description: Deploy your Express.js application to AWS Lambda, AWS HTTP API and more.
    inputs:
      src:
        type: src
        description: The folder containing the source code of your Express.js application.

      memory:
        type: number
        description: The memory size of your AWS Lambda function.
        default: 1024
        allow:
          - 128
          - 192
          - 256
          - 320
          - 384
          - 448
          - 512
          - 576
          - 640
          - 704
          - 768
          - 832
          - 896
          - 960
          - 1024
          - 1088
          - 1152
          - 1216
          - 1280
          - 1344
          - 1408
          - 1472
          - 1536
          - 1600
          - 1664
          - 1728
          - 1792
          - 1856
          - 1920
          - 1984
          - 2048
          - 2112
          - 2176
          - 2240
          - 2304
          - 2368
          - 2432
          - 2496
          - 2560
          - 2624
          - 2688
          - 2752
          - 2816
          - 2880
          - 2944
          - 3008
          - 3072
          - 3136
          - 3200
          - 3264
          - 3328
          - 3392
          - 3456
          - 3520
          - 3584
          - 3648
          - 3712
          - 3776
          - 3840
          - 3904
          - 3968
          - 4032
          - 4096
          - 4160
          - 4224
          - 4288
          - 4352
          - 4416
          - 4480
          - 4544
          - 4608
          - 4672
          - 4736
          - 4800
          - 4864
          - 4928
          - 4992
          - 5056
          - 5120
          - 5184
          - 5248
          - 5312
          - 5376
          - 5440
          - 5504
          - 5568
          - 5632
          - 5696
          - 5760
          - 5824
          - 5888
          - 5952
          - 6016
          - 6080
          - 6144
          - 6208
          - 6272
          - 6336
          - 6400
          - 6464
          - 6528
          - 6592
          - 6656
          - 6720
          - 6784
          - 6848
          - 6912
          - 6976
          - 7040
          - 7104
          - 7168
          - 7232
          - 7296
          - 7360
          - 7424
          - 7488
          - 7552
          - 7616
          - 7680
          - 7744
          - 7808
          - 7872
          - 7936
          - 8000
          - 8064
          - 8128
          - 8192
          - 8256
          - 8320
          - 8384
          - 8448
          - 8512
          - 8576
          - 8640
          - 8704
          - 8768
          - 8832
          - 8896
          - 8960
          - 9024
          - 9088
          - 9152
          - 9216
          - 9280
          - 9344
          - 9408
          - 9472
          - 9536
          - 9600
          - 9664
          - 9728
          - 9792
          - 9856
          - 9920
          - 9984
          - 10048
          - 10112
          - 10176
          - 10240
      timeout:
        type: number
        description: The number of seconds until your AWS Lambda function times out.
        default: 5
        min: 1
        max: 900

      description:
        type: string
        description: A description of your application.

      region:
        type: string
        description: The AWS region you wish to deploy your application to.
        default: us-east-1
        allow:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - af-south-1
          - ap-east-1
          - ap-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-southeast-1
          - ap-southeast-2
          - ca-central-1
          - cn-north-1
          - cn-northwest-1
          - eu-central-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-south-1
          - eu-north-1
          - me-south-1
          - sa-east-1
          - us-gov-east-1
          - us-gov-west-1

      domain:
        type: string
        description: A custom domain that will be automatically set up for your Express.js API.

      roleName:
        type: string
        description: The name of an AWS IAM Role that contains custom permissions for your AWS Lambda function.

      env:
        type: env
        description: Environment variables to be passed into your AWS Lambda function runtime.

      layers:
        type: array
        items:
          - type: string
        description: An array of AWS Lambda Layer ARNs to attach to your AWS Lambda function.
        min: 0
        max: 5

      traffic:
        type: number
        description: A percentage of traffic expressed as a decimal between 0.0 and 1.0 (e.g. 0.4) to serve your latest deployment to
        min: 0
        max: 1

      vpc:
        type: object
        description: The VPC configuration for your AWS Lambda function
        keys:
          securityGroupIds:
            type: array
            items:
              - type: string
          subnetIds:
            type: array
            items:
              - type: string

  # remove

  remove:
    description: Removes your Express.js application from AWS Lambda, AWS HTTP API and more

  # metrics

  metrics:
    description: Fetch metrics from your Express.js API
